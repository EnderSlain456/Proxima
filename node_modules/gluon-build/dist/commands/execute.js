"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.execute = void 0;
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
const fs_1 = require("fs");
const log_1 = require("../log");
const constants_1 = require("../constants");
const utils_1 = require("../utils");
const execute = async (cmd) => {
    if ((0, fs_1.existsSync)(constants_1.ENGINE_DIR)) {
        if (!cmd || cmd.length == 0)
            log_1.log.error('You need to specify a command to run.');
        const bin = cmd[0];
        const args = cmd;
        args.shift();
        log_1.log.info(`Executing \`${bin}${args.length !== 0 ? ` ` : ``}${args.join(' ')}\` in \`src\`...`);
        (0, utils_1.dispatch)(bin, args, constants_1.ENGINE_DIR);
    }
    else {
        log_1.log.error(`Unable to locate src directory.`);
    }
};
exports.execute = execute;
