"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.status = void 0;
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
const fs_1 = require("fs");
const log_1 = require("../log");
const constants_1 = require("../constants");
const utils_1 = require("../utils");
const status = async () => {
    const configExists = (0, utils_1.hasConfig)();
    const engineExists = (0, fs_1.existsSync)(constants_1.ENGINE_DIR);
    if (!configExists && !engineExists) {
        log_1.log.info("Melon doesn't appear to be setup for this project. You can set it up by running |melon setup-project|");
        return;
    }
    if (engineExists) {
        log_1.log.info("The following changes have been made to firefox's source code");
        await (0, utils_1.dispatch)('git', ['diff'], constants_1.ENGINE_DIR);
        return;
    }
    else {
        log_1.log.info("It appears that melon has been configured, but you haven't run |melon download|");
        return;
    }
};
exports.status = status;
