"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.reset = void 0;
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at http://mozilla.org/MPL/2.0/.
const execa_1 = __importDefault(require("execa"));
const __1 = require("..");
const constants_1 = require("../constants");
const log_1 = require("../log");
const reset = async () => {
    log_1.log.warning(`This will remove any changes that you have made to firefox`);
    log_1.log.warning(`If you have made changes to firefox's internal files, save them with |${__1.bin_name} export [filename]|`);
    await log_1.log.hardWarning(`You will need to run |${__1.bin_name} import| to bring back your saved changes`);
    log_1.log.info('Unstaging changes...');
    await (0, execa_1.default)('git', ['reset'], { cwd: constants_1.ENGINE_DIR });
    log_1.log.info('Reverting uncommitted changes...');
    await (0, execa_1.default)('git', ['checkout', '.'], { cwd: constants_1.ENGINE_DIR });
    log_1.log.info('Removing all untracked files...');
    await (0, execa_1.default)('git', ['clean', '-fdx'], { cwd: constants_1.ENGINE_DIR });
};
exports.reset = reset;
